!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r=a(n(1)),i=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var o=new r.default;o.init();new i.default;window.addEventListener("resize",o.onresize)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;this.init=function(){e.data=[],e.history=[],e.resultsPerPage=4,e.displayAll=!1,e.buildSearchForm(),window.addEventListener("dataReceived",function(t){return e.updateSearchResults(t.detail)})},this.getPageCount=function(t){return e.displayAll?Math.ceil(t.length/e.resultsPerPage):Math.floor(t.length/e.resultsPerPage)},this.buildSearchForm=function(){var t=document.createElement("input");t.classList.add("search-bar"),t.setAttribute("type","text"),t.setAttribute("maxLength",200),t.setAttribute("placeholder","search..."),t.addEventListener("keyup",function(t){13===t.keyCode&&e.search()});var n=document.createElement("i");n.classList.add("fas","fa-search");var r=document.createElement("button");r.classList.add("search-button"),r.append(n),r.addEventListener("click",e.search);var i=document.createElement("div");i.classList.add("search"),i.append(t),i.append(r),document.body.append(i)},this.search=function(){e.cleanUp();var t=document.querySelector("div.search input").value;t&&t.trim().length>0&&window.dispatchEvent(new CustomEvent("search",{detail:t}))},this.populateItems=function(e,t,n,r){for(var i=n*r,a=i+r,o=i;o<a&&t.length>0;o+=1){var s=t.shift(),u=document.createElement("a");u.setAttribute("href",s.snippet.viewLink),u.setAttribute("target","_blank"),u.classList.add("title"),u.innerText=s.snippet.title;var c=document.createElement("img");c.classList.add("title-image"),c.setAttribute("src",s.snippet.thumbnails.medium.url);var d=document.createElement("i");d.classList.add("info-icon","fas","fa-male");var l=document.createElement("span");l.classList.add("info-value","author"),l.innerText=s.snippet.channelTitle;var v=document.createElement("i");v.classList.add("info-icon","far","fa-calendar-alt");var p=document.createElement("span");p.classList.add("info-value","date");var f=new Date(Date.parse(s.snippet.publishedAt));p.innerText=f.getFullYear()+"-"+(f.getMonth()+1)+"-"+f.getDate();var h=document.createElement("i");h.classList.add("info-icon","far","fa-eye");var m=document.createElement("span");m.classList.add("info-value","views"),m.innerText=s.snippet.viewCount;var g=document.createElement("div");g.classList.add("info"),g.append(d,l,v,p,h,m);var P=document.createElement("p");P.classList.add("description"),P.innerHTML=s.snippet.description;var y=document.createElement("div");y.classList.add("item"),y.append(u,c,g,P),e.append(y)}},this.initSearchResultWrappers=function(t,n){e.data=e.data.concat(t),e.history=e.history.concat(t),e.resultsPerPage=e.eventController.getItemsPerPage();var r=e.getPageCount(t);e.eventController.countOfLoadedPages+=r;for(var i=0;i<r;i+=1){var a=document.createElement("div");a.classList.add("search-result-page"),e.populateItems(a,e.data,i,e.resultsPerPage);var o=document.createElement("div");o.classList.add("search-result-wrapper"),o.append(a),n.append(o)}},this.initSearchResults=function(t){var n=document.createElement("div");e.eventController.totalResults=t.pageInfo.totalResults,e.eventController.expectedCountOfPages=Math.ceil(t.pageInfo.totalResults/e.resultsPerPage),e.initSearchResultWrappers(t.items,n),n.classList.add("search-result-container"),document.body.append(n)},this.updateSearchResults=function(t){e.displayAll=void 0===t.nextPageToken;var n=document.querySelector(".search-result-container");n?e.initSearchResultWrappers(t.items,n):(e.eventController=new r.default,e.initSearchResults(t),e.eventController.initSwipe(),e.initPagination())},this.cleanUp=function(){e.data=[],e.history=[],e.eventController&&e.eventController.destroy(),document.querySelectorAll(".search-result-container").forEach(function(e){return e.remove()}),document.querySelectorAll(".pagination").forEach(function(e){return e.remove()})},this.onresize=function(){if(e.eventController){var t=e.eventController.currentPage,n=e.eventController.getItemsPerPage();if(n!==e.resultsPerPage){e.eventController.toDefault(),e.eventController.currentPage=Math.floor(e.resultsPerPage*(t-1)/n)+1,e.eventController.expectedCountOfPages=Math.ceil(e.eventController.totalResults/n),document.querySelectorAll(".search-result-wrapper").forEach(function(e){return e.remove()});var r=e.history;e.history=[],e.data=[],e.initSearchResultWrappers(r,document.querySelector(".search-result-container"))}e.eventController.move(0)}},this.initPagination=function(){var t=document.createElement("div");t.classList.add("pagination");for(var n=0;n<4;n+=1){var r=document.createElement("div");r.classList.add("page"),r.append(document.createElement("span")),t.append(r)}document.body.append(t),e.eventController.initPaginationEvents(),window.dispatchEvent(new Event("pagination"))}};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2))},function(e,t,n){"use strict";function r(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.currentPage=t,this.expectedCountOfPages=0,this.totalResults=0,this.countOfLoadedPages=0,this.initSwipe=function(){var t=document.querySelector(".search-result-container");t.addEventListener("mousedown",e.startSwipe,!1),t.addEventListener("touchstart",e.startSwipe,!1),t.addEventListener("mouseup",e.endSwipe,!1),t.addEventListener("touchend",e.endSwipe,!1),t.addEventListener("mousemove",e.swipeInProgress),t.addEventListener("touchmove",e.swipeInProgress)},this.initPaginationEvents=function(){var t=document.querySelector("div.pagination");t.addEventListener("click",e.goToPageEvent),t.addEventListener("mousedown",e.showPageNumberEvent),t.addEventListener("mouseout",e.hidePageNumberEvent),t.addEventListener("mouseup",e.hidePageNumberEvent),window.addEventListener("pagination",e.processPagination)},this.move=function(t){e.currentPage+=t;var n=document.querySelector(".search-result-container"),r=document.body.offsetWidth,i=-1*r*(e.currentPage-1);n.style.width="calc("+e.currentPage*r+"px)",n.style.transform="translateX("+i+"px)",e.countOfLoadedPages<e.currentPage+2&&window.dispatchEvent(new Event("load-next-batch")),e.processPagination()},this.left=function(){e.currentPage>1&&e.move(-1)},this.right=function(){document.querySelectorAll(".search-result-wrapper").length>e.currentPage&&e.move(1)},this.getItemsPerPage=function(){return Number.parseInt(getComputedStyle(document.body).getPropertyValue("--items-per-page"),10)},this.destroy=function(){var t=document.querySelector(".search-result-container");t&&(t.removeEventListener("transitionend",e.tranformEndEventListener),t.removeEventListener("transitionstart",e.tranformStartedEventListener),t.removeEventListener("mousedown",e.startSwipe),t.removeEventListener("touchstart",e.startSwipe),t.removeEventListener("mouseup",e.endSwipe),t.removeEventListener("touchend",e.endSwipe),t.removeEventListener("mousemove",e.swipeInProgress),t.removeEventListener("touchmove",e.swipeInProgress));var n=document.querySelector("div.pagination");n&&(n.removeEventListener("click",e.goToPageEvent),n.removeEventListener("mousedown",e.showPageNumberEvent),n.removeEventListener("mouseout",e.hidePageNumberEvent),n.removeEventListener("mouseup",e.hidePageNumberEvent),window.removeEventListener("pagination",e.processPagination))},this.toDefault=function(){e.currentPage=0,e.countOfLoadedPages=0,e.expectedCountOfPages=0},this.goToPageEvent=function(t){var n=t.target.closest(".page");n&&e.currentPage!==Number.parseInt(n.innerText,10)&&e.move(n.innerText-e.currentPage)},this.processPagination=function(){var t=Array.from(document.querySelectorAll(".pagination .page"));t.forEach(function(e){e.classList.remove("active")}),t.forEach(function(e){e.style.display="none"});var n=1,r=e.expectedCountOfPages;e.currentPage-1>0&&(n=e.currentPage-1),n+3<r&&(r=n+3),e.expectedCountOfPages===r&&r-3>0&&(n=r-3);for(var i=0,a=n;i<t.length&&a<=r;i+=1,a+=1){var o=t[i];o.style.display="",o.setAttribute("data-value",a),o.firstChild.innerText=a,a===e.currentPage&&o.classList.add("active")}},this.showPageNumberEvent=function(e){var t=e.target.closest(".page");t&&t.classList.add("selected")},this.hidePageNumberEvent=function(e){var t=e.target.closest(".page");t&&t.classList.remove("selected")},this.startSwipe=function(t){e.initialPosition=e.unify(t).clientX},this.endSwipe=function(t){if(e.initialPosition||0===e.initialPosition){var n=e.unify(t).clientX-e.initialPosition,r=-Math.sign(n);r<0?e.left():r>0&&e.right(),delete e.initialPosition}},this.swipeInProgress=function(t){if(t.preventDefault(),e.initialPosition||0===e.initialPosition){var n=document.querySelector(".search-result-container"),r=document.body.offsetWidth,i=-Math.round(e.unify(t).clientX-e.initialPosition);if(i<0&&e.currentPage>1||i>0&&e.currentPage<e.expectedCountOfPages){var a=-1*r*(e.currentPage-1);n.style.width="calc("+(e.currentPage*r+i)+"px)",n.style.transform="translateX("+(a-i)+"px)"}}}}Object.defineProperty(t,"__esModule",{value:!0}),r.prototype.unify=function(e){return e.changedTouches?e.changedTouches[0]:e},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="AIzaSyDoGHHAXa-D5IdOKV0nVsGUwdftnHs9Rfk",i=["type=video","part=snippet","maxResults=15"];function a(){var e=this;window.addEventListener("search",function(t){e.keyWord=t.detail,e.search(e.keyWord)}),window.addEventListener("load-next-batch",function(){e.data.nextPageToken&&e.search(e.keyWord,e.data.nextPageToken)}),window.addEventListener("dataReceived",function(t){return e.storeSession(t.detail)})}a.prototype.search=function(e,t){var n=this;fetch(this.buildQuery(e,t)).then(function(e){return e.json()}).then(function(e){return n.populateVideoInfo(e)}).then(function(e){return window.dispatchEvent(new CustomEvent("dataReceived",{detail:e}))}).catch(function(){return window.dispatchEvent(new CustomEvent("dataReceived",{}))})},a.prototype.populateVideoInfo=function(e){return fetch(this.buildChannelQuery(e.items.map(function(e){return e.id.videoId}).join(","))).then(function(e){return e.json()}).then(function(t){return t.items.forEach(function(t,n){if(t.id===e.items[n].id.videoId){var r=e.items[n].snippet;r.viewCount=t.statistics.viewCount,r.viewLink="https://www.youtube.com/watch?v="+t.id}}),e})},a.prototype.storeSession=function(e){this.data=e},a.prototype.buildQuery=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;return(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"https://www.googleapis.com")+"/"+(arguments.length>4&&void 0!==arguments[4]?arguments[4]:"youtube/v3/search")+"?key="+n+"&"+i.join("&")+"&q="+e+"&pageToken="+t},a.prototype.buildChannelQuery=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://www.googleapis.com")+"/"+(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"youtube/v3/videos")+"?part=snippet,contentDetails,statistics&id="+e+"&key="+t},t.default=a}]);